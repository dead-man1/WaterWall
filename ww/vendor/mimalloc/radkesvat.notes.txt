v 3.1.5


in alloc .c around line 484, i gave up defining weak symbol of c++ new when building on windows, (msvc linker dose not support weak symbols)
we are not using this feature


typedef void (*std_new_handler_t)(void);

#if (defined(__GNUC__) || defined(__clang__)) && !defined(_WIN32)  // exclude all Windows targets (mingw/clang-cl), see issue #631 and Windows COFF duplicate symbol behavior
std_new_handler_t __attribute__((weak)) _ZSt15get_new_handlerv(void) {
  return NULL;
}
static std_new_handler_t mi_get_new_handler(void) {
  return _ZSt15get_new_handlerv();
}
#else
// note: on windows we could dynamically link to `?get_new_handler@std@@YAP6AXXZXZ`.
static std_new_handler_t mi_get_new_handler(void) {
  return NULL;
}